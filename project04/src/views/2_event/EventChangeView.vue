<template>
  <div class="content-container">
    <a href="/" class="goto">Home</a> /
    <a href="/event" class="goto">Event</a> /
    <h2>2. Change Event</h2><hr>
    <!-- ì´ë²¤íŠ¸ v-on:change -> ì¶•ì•½í˜• @change -->
    <p v-pre>â— ì´ë²¤íŠ¸ : <span class="emp">v-on:change</span> ğŸ‘‰ ì¶•ì•½í˜• : <span class="emp">@change</span></p>
    <select name="" id="" @change="changeCity" v-model="selectedCity">
      <option value="">ë„/ì‹œ</option>
      <option v-for="city in cityList" :key="city.cityCode" :value="city.cityCode">{{ city.title }}</option>
    </select>
    &nbsp;
    <!-- dongList ë³€ìˆ˜ì—ì„œ í•„í„°ë§í•œ ê°’ì„ ì €ì¥í•˜ê³  ìˆëŠ” selectedDongList ì¶œë ¥ -->
    <p v-pre>â— dongList ë³€ìˆ˜ì—ì„œ <span class="emp">í•„í„°ë§í•œ ê°’</span>ì„ ì €ì¥í•˜ê³  ìˆëŠ” selectedDongList ì¶œë ¥</p>
    <select name="" id="">
      <option value="">ë™/ì/ë©´/ë¦¬</option>
      <option v-for="dong in selectedDongList" :key="dong.dongCode" :value="dong.dongCode">{{ dong.dongTitle }}</option>
    </select>
    <!-- ì–‘ë°©í–¥ì´ê¸° ë•Œë¬¸ì— change ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ êµ¬í˜„ ê°€ëŠ¥ (ë‹¨, ê°€ë…ì„±ì´ ë–¨ì–´ì§€ë¯€ë¡œ ë¹„ì¶”!) -->
    <p v-pre>â— ì–‘ë°©í–¥ì´ê¸° ë•Œë¬¸ì— change ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ êµ¬í˜„ ê°€ëŠ¥<br>
    <span class="emp">&nbsp;&nbsp;&nbsp;(ë‹¨, ê°€ë…ì„±ì´ ë–¨ì–´ì§€ë¯€ë¡œ ë¹„ì¶”!)</span></p>
    <select name="" id="" v-model="selectedCity2">
      <option value="">ë„/ì‹œ</option>
      <option v-for="city in cityList" :key="city.cityCode" :value="city.cityCode">{{ city.title }}</option>
    </select>
    &nbsp;
    <select name="" id="">
      <option value="">ë™/ì/ë©´/ë¦¬</option>
      <option v-for="dong in dongList.filter(dong => dong.cityCode === selectedCity2)" :key="dong.dongCode" :valu="dong.dongCode">{{ dong.dongTitle }}</option>
    </select>
  </div>
</template>

<script>
export default {
  data () {
    return {
      selectedCity: '', // 02|051|064 ì €ì¥
      selectedCity2: '',
      cityList: [
        { cityCode: '02', title: 'ì„œìš¸' },
        { cityCode: '051', title: 'ë¶€ì‚°' },
        { cityCode: '064', title: 'ì œì£¼' }
      ],
      dongList: [
        { cityCode: '02', dongCode: '1', dongTitle: 'ì„œìš¸ 1ë™' },
        { cityCode: '02', dongCode: '2', dongTitle: 'ì„œìš¸ 2ë™' },
        { cityCode: '02', dongCode: '3', dongTitle: 'ì„œìš¸ 3ë™' },
        { cityCode: '02', dongCode: '4', dongTitle: 'ì„œìš¸ 4ë™' },
        { cityCode: '051', dongCode: '1', dongTitle: 'ë¶€ì‚° 1ë™' },
        { cityCode: '051', dongCode: '2', dongTitle: 'ë¶€ì‚° 2ë™' },
        { cityCode: '051', dongCode: '3', dongTitle: 'ë¶€ì‚° 3ë™' },
        { cityCode: '064', dongCode: '1', dongTitle: 'ì œì£¼ 1ë™' },
        { cityCode: '064', dongCode: '2', dongTitle: 'ì œì£¼ 2ë™' }
      ],
      selectedDongList: [] // í•´ë‹¹í•˜ëŠ” ë™ë§Œ ê±¸ëŸ¬ì„œ ì €ì¥. ì˜ˆ) ì„œìš¸1ë™~ì„œìš¸4ë™
    }
  },
  methods: {
    changeCity () {
      // alert('#' + this.selectedCity + '#') // 02|051|064 ì €ì¥
      // ì˜ˆ) ì„ íƒí•œ selectedCityê°€ 064ë¼ë©´ dongListì—ì„œ 064ë§Œ ê±¸ëŸ¬ë‚´ì„œ selectedDongListì— ì €ì¥
      /*
        í™”ì‚´í‘œ í•¨ìˆ˜ =>
        var sum = function(a,b) {return a+b}
        var sum = (a,b) => {return a + b}

        function (dong) {return dong.cityCode}
        dong => dong.cityCode
      */
      this.selectedDongList = this.dongList.filter(dong => dong.cityCode === this.selectedCity)
      // alert(this.selectedDongList)
      // console.log(this.selectedDongList)
    }
  }
}
</script>

<style>
</style>
